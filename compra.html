<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Comprar pack · Viajes Inolvidables</title>
  <link rel="stylesheet" href="style/style.css">
</head>
<body>

  <header class="header small">
    <div class="logo">✈️ Viajes Inolvidables</div>
    <nav class="nav">
      <a href="index.html">Inicio</a>
      <a href="index.html#experiencias">Experiencias</a>
      <a href="index.html#contacto">Contacto</a>
    </nav>
  </header>

  <main class="centered two-column">
    <!-- Info del pack -->
    <section class="card pack-info">
      <h2 id="pack-label">Pack seleccionado</h2>
      <img id="pack-image" src="images/ankor.jpg" alt="Pack seleccionado" style="max-width:100%; border-radius:6px; margin-bottom:12px;">
      <h3 id="pack-title">Pack Sudeste Asiático</h3>
      <p id="pack-desc">Vietnam &amp; Camboya — rutas en bus y alojamiento económico.</p>
      <div class="price" id="pack-price">€600</div>
    </section>

    <!-- Formulario -->
    <section class="card form-card">
      <h2>Formulario de compra</h2>

      <form id="buy-form" onsubmit="return false;">
        <input type="hidden" id="packId" name="packId" value="">

        <label>Nombre
          <input type="text" name="cliente_nombre" required>
        </label>

        <label>Correo electrónico
          <input type="email" name="cliente_email" required>
        </label>

        <label>Tipo de tarjeta
          <select name="tarjeta_tipo" required>
            <option>Visa</option><option>Mastercard</option><option>American Express</option>
          </select>
        </label>

        <label>Número de tarjeta
          <input inputmode="numeric" maxlength="19" placeholder="1234 5678 9012 3456" required>
        </label>

        <label>Nombre del titular
          <input type="text" required>
        </label>

        <label>Fecha caducidad
          <input type="month" required>
        </label>

        <label>CVV
          <input inputmode="numeric" maxlength="4" required>
        </label>

        <div class="row">
          <button class="btn" id="do-buy">Comprar</button>
          <button class="btn outline" id="clear">Borrar</button>
        </div>
      </form>
    </section>
  </main>

  <footer class="footer">
    <p>© 2025 Viajes Inolvidables</p>
  </footer>

  <!-- Datos de cada pack al seleccionarlos-->
  <script>
    const PACKS = {
      sudeste: {
        title: 'Pack Sudeste Asiático',
        desc: 'Vietnam & Camboya — rutas en bus y alojamiento económico.',
        price: '€600',
        image: 'images/ankor.jpg'
      },
      machu: {
        title: 'Pack Andes',
        desc: 'Perú & Bolivia — trekking y rutas en bus.',
        price: '€750',
        image: 'images/machu-pichu.jpg'
      },
      africa: {
        title: 'Pack África',
        desc: 'Tanzania & Zanzíbar — safaris y playas.',
        price: '€980',
        image: 'images/africa.jpg'
      }
    };

    function getQueryParam(name) {
      return new URLSearchParams(window.location.search).get(name);
    }

    function showPackFromQuery() {
      const packId = getQueryParam('pack') || 'sudeste';
      const data = PACKS[packId];
      const titleEl = document.getElementById('pack-title');
      const descEl = document.getElementById('pack-desc');
      const priceEl = document.getElementById('pack-price');
      const imgEl = document.getElementById('pack-image');
      const packIdInput = document.getElementById('packId');

      if (data) {
        titleEl.textContent = data.title;
        descEl.textContent = data.desc;
        priceEl.textContent = data.price;
        imgEl.src = data.image;
        imgEl.alt = data.title;
        packIdInput.value = packId;
      } else {
        titleEl.textContent = 'Pack no encontrado';
        descEl.textContent = 'Vuelve a la página principal y elige un pack.';
        priceEl.textContent = '';
        imgEl.src = 'images/placeholder.jpg';
        packIdInput.value = '';
      }
    }

    // limpiar formulario
    document.getElementById('clear').addEventListener('click', function(e){
      e.preventDefault();
      document.getElementById('buy-form').reset();
    });

    document.getElementById('do-buy').addEventListener('click', function(e){
      e.preventDefault();
      const packId = document.getElementById('packId').value;
      const packTitle = PACKS[packId] ? PACKS[packId].title : 'este pack';
      alert('Gracias por comprar ' + packTitle + ' (demo).');
      location.href = 'index.html';
    });

    // ejecutar al cargar
    showPackFromQuery();
  </script>
</body>
</html>
